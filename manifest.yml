---
applications:
- name: twitter-watcher
  memory: 128M
  no-route: true
  instances: 1
  services:
   - vascodagama-db
   - twitter
   - configstuff
  buildpack: python_buildpack
  command: python run_watcher.py

- name: twitter-worker
  memory: 128M
  no-route: true
  instances: 5
  services:
   - vascodagama-db
   - vascodagama-images
   - configstuff
   - s3_storage
  buildpack: python_buildpack
  command: rqworker -c settings

- name: twitter-dashworker
  memory: 128M
  no-route: true
  instances: 1
  services:
   - vascodagama-db
   - vascodagama-images
   - configstuff
   - s3_storage
  buildpack: python_buildpack
  command: rqworker -c settings

- name: twitter-dashboard
  memory: 128M
  no-route: true
  instances: 1
  services:
   - vascodagama-db
   - vascodagama-images
   - configstuff
  buildpack: python_buildpack
  command: python run_dashboard.py

- name: twitter-scaler
  memory: 128M
  no-route: false
  host: vascodagama-emcworld-scaler
  instances: 1
  services:
  services:
   - vascodagama-db
   - configstuff
  buildpack: python_buildpack
  command: python scaler/__init__.py

- name: twitter-images
  memory: 128M
  no-route: false
  host: vascodagama-emcworld
  instances: 1
  services:
   - vascodagama-db
   - vascodagama-images
   - configstuff
  buildpack: python_buildpack
  command: python viewer/show_images.py
